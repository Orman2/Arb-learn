# bot_learning_full.py
# pip install python-telegram-bot==20.3

from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes

# ==========================
# –ö–û–ù–§–ò–ì
# ==========================
TOKEN = "7769932722:AAE4ILgHUzgqW4u3lnIQdqlYnBCM-wuRynM"

# –¢–µ–∫—Å—Ç—ã —É—Ä–æ–∫–æ–≤
lessons = {
    "1": """üìò –£—Ä–æ–∫ 1

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –¢–µ—Å—Ç –î—Ä–∞–π–≤ –Ω–∞—à–µ–≥–æ –û–±—É—á–µ–Ω–∏—è –ø–æ –ê—Ä–±–∏—Ç—Ä–∞–∂—É –±–µ–∑ –∫–∞—Ä—Ç –≥–¥–µ —è –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –∫–∞–∫ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç 50% –≤ –º–µ—Å—è—Ü –∫ –î–µ–ø–æ–∑–∏—Ç—É –Ω–∞ –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ, –ê–±—Å–æ–ª—é—Ç–Ω–æ –±–µ–∑ –ù–∏–∫–∞–∫–∏—Ö —Ä–∏—Å–∫–æ–≤ üî•

–ò –¥–∞, —ç—Ç–æ –Ω–µ –†2–† –ê—Ä–±–∏—Ç—Ä–∞–∂ –∏ –¥–∞–∂–µ –Ω–µ –¢—Ä–µ–π–¥–∏–Ω–≥, —ç—Ç–æ –ù–∏—à–∞ –ø—Ä–æ –∫–æ—Ç–æ—Ä—É—é —Å–µ–π—á–∞—Å –Ω–µ –∑–Ω–∞–µ—Ç –Ω–∏–∫—Ç–æ —Ç—ã —É–∑–Ω–∞–µ—à—å –ü–µ—Ä–≤—ã–ºü§Ø
–¢–µ–±–µ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¢–µ–ª–µ—Ñ–æ–Ω –∏ –ó–Ω–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ–±—ã –ó–∞—Ö–æ–¥–∏—Ç—å –≤ —Å–¥–µ–ª–∫–∏ –∏ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –Ω–∏—á–µ–º –Ω–µ —Ä–∏—Å–∫—É—è üëá

–ù–∞ –¢–µ—Å—Ç-–î—Ä–∞–π–≤–µ, —É –Ω–∞—Å –±—É–¥–µ—Ç 6 –£—Ä–æ–∫–æ–≤:
1Ô∏è‚É£ –Ø –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –∫–∞–∫ —Ç—ã —Å–º–æ–∂–µ—à—å –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç $10.000 –≤ –º–µ—Å—è—Ü, –∫–∞–∫ –ù–æ–≤–∏—á–æ–∫ –±–µ–∑ –†–∏—Å–∫–æ–≤ –Ω–∞ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –∫–∞—Ä—Ç 
2Ô∏è‚É£ –†–∞–∑–±–µ—Ä–µ–º –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–∞–º –Ω—É–∂–Ω—ã –¥–ª—è –ó–∞—Ä–∞–±–æ—Ç–∫–∞? –ö–∞–∫–∏–º–∏ –ë–∏—Ä–∂–∞–º–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –≥–¥–µ —Å–∞–º—ã–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–π—Ç–∏ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –ø–µ—Ä–µ–¥ –¢–æ—Ä–≥–æ–≤–ª–µ–π
3Ô∏è‚É£ –Ø –ø–æ–∫–∞–∂—É —Ç–µ–±–µ, –∫–∞–∫ –∫—É–ø–∏—Ç—å –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –∏ –∫–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –µ–µ —Å –±–∏—Ä–∂–∏ –Ω–∞ –±–∏—Ä–∂—É –≤ –î–æ–ª–∏ —Å–µ–∫—É–Ω–¥—ã —á—Ç–æ–±—ã –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∫–µ 
4Ô∏è‚É£ –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ä–∏—Å–∫–∏? –ö–∞–∫ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ —Å–¥–µ–ª–∫–∏? –ö–∞–∫ –∏—Å–∫–∞—Ç—å —Å–≤—è–∑–∫–∏ –¥–ª—è –ó–∞—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–∫–∞–∂—É –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à –ë–æ—Ç
5Ô∏è‚É£ –ü–æ–∫–∞–∂—É –∏ –†–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ —Å–∞–º—ã–π –¥–µ–Ω–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –ó–∞—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ê—Ä–±–∏—Ç—Ä–∞–∂–∞ –±–µ–∑ –∫–∞—Ä—Ç
6Ô∏è‚É£ –Ø –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –∫–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–º –û–±—É—á—É —Ç–µ–±—è –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ö –Ω–∞—á–∞—Ç—å –°—Ç–∞–±–∏–ª—å–Ω–æ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å

–ü–µ—Ä–≤—ã–π —É—Ä–æ–∫ —É–∂–µ –≤—ã—à–µ–ª, —á—Ç–æ–±—ã –µ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–∂–º–∏ –Ω–∞ –ö–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá""",

    "2": """üìò –£—Ä–æ–∫ 2

2 —É—Ä–æ–∫ –¢–µ—Å—Ç-–î—Ä–∞–π–≤–∞ —É–∂–µ –≤—ã—à–µ–ª ‚è∞ 

–ù–∞ –Ω–µ–º —è –ü–æ–∫–∞–∑–∞–ª –∫–∞–∫–∏–µ –±–∏—Ä–∂–∏ –Ω—É–∂–Ω—ã –¥–ª—è –°—Ç–∞—Ä—Ç–∞ –≤ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –∫–∞—Ä—Ç –∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é, —á—Ç–æ–±—ã –µ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–∂–º–∏ –Ω–∞ –ö–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá""",

    "3": """üìò –£—Ä–æ–∫ 3

3 —É—Ä–æ–∫ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤–∞ —É–∂–µ –í–´–®–ï–õ! 

–ù–∞ –Ω–µ–º —è –ø–æ–∫–∞–∑–∞–ª: 
üß† –ö–∞–∫ –∫—É–ø–∏—Ç—å –ø–µ—Ä–≤—É—é –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É
üß† –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –º–æ–Ω–µ—Ç—ã —Å –ë–∏—Ä–∂–∏ –Ω–∞ –ë–∏—Ä–∂—É 
üß† –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ä–∏—Å–∫–∏ –ø—Ä–∏ –ü–æ–∫—É–ø–∫–µ USDT 

–ß—Ç–æ–±—ã –µ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–∂–º–∏ –Ω–∞ –ö–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá""",

    "4": """üìò –£—Ä–æ–∫ 4

–ö–∞–∫ –°—Ç–∞–±–∏–ª—å–Ω–æ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –ö–∞—Ä—Ç –∏ –ò—Å–∫–∞—Ç—å —Å–≤—è–∑–∫–∏ - –†–∞—Å—Å–∫–∞–∑–∞–ª –Ω–∞ 4 –£—Ä–æ–∫–µ üëá

–í –Ω–µ–º:
1. –ü–æ–∫–∞–∑–∞–ª, –∫–∞–∫ –∏—Å–∫–∞—Ç—å —Å–≤—è–∑–∫–∏ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –æ—Ç 5% –∑–∞ –ö—Ä—É–≥ –≤ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –ö–∞—Ä—Ç üí∏
2. –ü–æ–¥—Ä–æ–±–Ω–æ –ø–æ–∫–∞–∑–∞–ª –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –ó–∞—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—å –ú–æ–Ω–µ—Ç—ã —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –ó–∞—Ä–∞–±–æ—Ç–∫–æ–º üß†
3. –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ä–∏—Å–∫–∏ –∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –û–±—Ö–æ–¥–∏—Ç—å —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –≤ +ü§Ø""",

    "5": """üìò –£—Ä–æ–∫ 5

–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å, –∫–∞–∫ –ú–æ–∂–Ω–æ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 100% –≤—Å–µ–≥–æ –Ω–∞ 1 –û–¥–Ω–æ–π —Å–¥–µ–ª–∫–µ –≤ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –∫–∞—Ä—Ç? –¢–æ–≥–¥–∞ –±–µ–≥–æ–º —Å–º–æ—Ç—Ä–µ—Ç—å 5 —É—Ä–æ–∫ üëá

–í –Ω–µ–º:
1. –ü–æ–∫–∞–∑–∞–ª –Ω–∞ –ü—Ä–∞–∫—Ç–∏–∫–µ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ó–∞—Ö–æ–¥–∏—Ç—å –∏ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ —Å–¥–µ–ª–∫–∏ —á—Ç–æ–±—ã –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—åüí∏
2. –ö–∞–∫–∏–µ –µ—Å—Ç—å –ø–æ–¥–≤–æ–¥–Ω—ã–µ –ö–∞–º–Ω–∏
3. –ö–∞–∫ –∏—Å–∫–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∏ —Ä–∞–±–æ—á–∏–µ —Å–≤—è–∑–∫–∏ ü§Ø""",

    "6": """üìò –£—Ä–æ–∫ 6

–û—Å—Ç–∞–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥ –ø–µ—Ä–µ–¥ —Ç–≤–æ–∏–º –°—Ç–∞—Ä—Ç–æ–º –≤ –ê—Ä–±–∏—Ç—Ä–∞–∂–µ –±–µ–∑ –∫–∞—Ä—Ç üöÄ

–í –Ω–µ–º:
1. –†–∞—Å—Å–∫–∞–∑–∞–ª –∫–∞–∫ —Ç–µ–±–µ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—á–∞—Ç—å —Å–≤–æ—é –¢–æ—Ä–≥–æ–≤–ª—éüí∏
2. –ö–∞–∫–∏–µ –µ—Å—Ç—å –ø–æ–¥–≤–æ–¥–Ω—ã–µ –ö–∞–º–Ω–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ê–∫—Ç–∏–≤–Ω–æ–≥–æ –ó–∞—Ä–∞–±–æ—Ç–∫–∞üß†
3. –ö–∞–∫ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –°—Ç–∞–±–∏–ª—å–Ω—ã–π –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –æ—Ç $2000+ / –º–µ—Å ü§Ø

–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ üëá"""
}

# –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
homeworks = {
    "1.1": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 1

–ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–Ω–∞—á–∏—Ç —Ç—ã —É–∂–µ –ü–æ—Å–º–æ—Ç—Ä–µ–ª 1 –£—Ä–æ–∫ ‚úÖ

–ù–µ –∑–∞–±—É–¥—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –ø–æ—Å–ª–µ –º–æ–∂–µ—à—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫–æ 2 –£—Ä–æ–∫—É.

–í–æ–ø—Ä–æ—Å—ã –∫ –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10""",

    "2.2": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 2

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º 2 –£—Ä–æ–∫–∞ ‚úÖ

–¢–µ–ø–µ—Ä—å —Ç–µ–±–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –î–æ–º–∞—à–Ω–µ–µ –ó–∞–¥–∞–Ω–∏–µ –∏ –ó–∞—Ä–µ–≥–∞—Ç—å—Å—è –Ω–∞ –ë–∏—Ä–∂–∞—Ö:

1. [ByBit](https://www.bybit.com/invite?ref=J8W02L)  
2. [MEXC](https://promote.mexc.com/r/I9vLmWxt)  
3. [Binance](https://www.binance.com/referral/earn-together/refer-in-hotsummer/claim?hl=en&ref=GRO_20338_9T9YL&utm_source=default)  
4. [Gate.io](https://www.gate.com/signup/VGCWVGWLAA?ref_type=103&utm_cmp=PEYEQdSb)  
5. [LBank](https://lbank.com/ref/57T7S)  
6. [BingX](https://bingx.com/invite/YOH7MA/)  

–ï—Å–ª–∏ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π VPN (–∫–∞–∫ –Ω–∞ —É—Ä–æ–∫–µ).  

–î–æ–º–∞—à–Ω–µ–µ –ó–∞–¥–∞–Ω–∏–µ —Å–∫–∏–¥—ã–≤–∞–π –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10""",

    "3.3": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 3

–¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ –Ω—É–∂–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å USDT ‚úÖ

–î–æ–º–∞—à–Ω–µ–µ –ó–∞–¥–∞–Ω–∏–µ: –ö—É–ø–∏—Ç—å USDT –Ω–∞ –±–∏—Ä–∂–µ (–∫–∞–∫ —è –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω–∞ —É—Ä–æ–∫–µ).

–í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10""",

    "4.4": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 4

–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –î–æ–º–∞—à–Ω–µ–µ –ó–∞–¥–∞–Ω–∏–µ –∏ –∫—É–ø–∏—Ç—å —Å–≤–æ—é –ø–µ—Ä–≤—É—é –º–æ–Ω–µ—Ç—É (–∫–∞–∫ –Ω–∞ —É—Ä–æ–∫–µ).

–í–æ–ø—Ä–æ—Å—ã –∫ –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10""",

    "5.5": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 5

–¢–µ–ø–µ—Ä—å –≤ —Ç–≤–æ–µ–º –ê—Ä—Å–µ–Ω–∞–ª–µ –µ—Å—Ç—å –û—Ä—É–∂–∏–µ, –Ω–æ –Ω—É–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è —Å—Ç—Ä–µ–ª—è—Ç—å üí∏

–î–æ–º–∞—à–Ω–µ–µ –ó–∞–¥–∞–Ω–∏–µ: –ó–∞–π–¥–∏ –≤–æ –§—å—é—á–µ—Ä—Å–Ω—É—é —Å–¥–µ–ª–∫—É –Ω–∞ –î–µ–º–æ —Å—á–µ—Ç–µ (–∫–∞–∫ —è –ø–æ–∫–∞–∑—ã–≤–∞–ª).

–í–æ–ø—Ä–æ—Å—ã –∫ –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10""",

    "6.6": """üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ 6

–û—Ç–ª–∏—á–Ω–æ, —Ç—ã –ø—Ä–æ—à–µ–ª –∫—É—Ä—Å –ú–æ–ª–æ–¥–æ–≥–æ –ë–æ–π—Ü–∞! üöÄ  

–¢–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –≤—Ä—ã–≤–∞—Ç—å—Å—è –≤ –ê—Ä–±–∏—Ç—Ä–∞–∂ –±–µ–∑ –∫–∞—Ä—Ç!  

–ï—Å–ª–∏ —Å–æ–±—Ä–∞–ª –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏–ª –î–ó ‚Äî –ø–∏—à–∏ –ö—É—Ä–∞—Ç–æ—Ä—É: @O01NM10"""
}

# –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ –¥–ª—è —É—Ä–æ–∫–æ–≤
lesson_links = {
    "1": "https://orman2.github.io/lesson1/",
    "2": "https://orman2.github.io/lesson2/",
    "3": "https://orman2.github.io/lesson3/",
    "4": "https://orman2.github.io/lesson4/",
    "5": "https://orman2.github.io/lesson5/",
    "6": "https://orman2.github.io/lesson6/",
}

# ==========================
# –°–¢–ê–†–¢
# ==========================
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã\n–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ:",
        reply_markup=InlineKeyboardMarkup(
            [[InlineKeyboardButton("‚ñ∂Ô∏è –£—Ä–æ–∫ 1", callback_data="lesson_1")]]
        ),
    )

# ==========================
# –û–ë–†–ê–ë–û–¢–ö–ê –£–†–û–ö–û–í
# ==========================
async def lesson_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    lesson_id = query.data.split("_")[1]
    text = lessons.get(lesson_id, "–£—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω")

    keyboard = [
        [InlineKeyboardButton("üé• –°–º–æ—Ç—Ä–µ—Ç—å —É—Ä–æ–∫", url=lesson_links[lesson_id])],
        [InlineKeyboardButton("üìù –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ", callback_data=f"hw_{lesson_id}")]
    ]

    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard),
        disable_web_page_preview=True
    )

# ==========================
# –û–ë–†–ê–ë–û–¢–ö–ê –î–ó
# ==========================
async def homework_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    lesson_id = query.data.split("_")[1]
    hw_id = f"{lesson_id}.{lesson_id}"

    text = homeworks.get(hw_id, "–î–ó –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")

    next_lesson = str(int(lesson_id) + 1) if lesson_id != "6" else None
    keyboard = []
    if next_lesson:
        keyboard.append([InlineKeyboardButton("‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫", callback_data=f"lesson_{next_lesson}")])

    await query.edit_message_text(
        text=text,
        reply_markup=InlineKeyboardMarkup(keyboard) if keyboard else None,
        disable_web_page_preview=True
    )

# ==========================
# MAIN
# ==========================
def main():
    app = Application.builder().token(TOKEN).build()

    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(lesson_handler, pattern="^lesson_"))
    app.add_handler(CallbackQueryHandler(homework_handler, pattern="^hw_"))

    app.run_polling()

if __name__ == "__main__":
    main()
